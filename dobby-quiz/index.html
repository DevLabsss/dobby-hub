<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Favicons -->
    <link rel="icon" href="favicon.ico" sizes="any" />
    <link rel="icon" type="image/png" sizes="32x32" href="favicon-32.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="favicon-16.png" />
    <link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png" />
    <meta name="theme-color" content="#0a0a0f" />

    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>AI Ascension Quiz — SentientAGI</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap"
      rel="stylesheet"
    />
    <style>
      /* ===================== THEMES ===================== */
      :root {
        --bg: #0a0a0f;
        --stroke: rgba(255, 255, 255, 0.08);
        --ring: rgba(102, 153, 255, 0.5);
        --muted: #9aa4b2;
        --cardTop: rgba(255, 255, 255, 0.05);
        --cardBot: rgba(255, 255, 255, 0.02);
        --barA: #6aa3ff;
        --barB: #9b8cff;
        --btnA: #171a2a;
        --btnB: #0f1222;
        --patA: #121834;
        --patB: #0a0a0f;
        --accent: #9cb8ff;
      }
      [data-theme="cyber"] {
        --bg: #070812;
        --ring: rgba(0, 255, 255, 0.45);
        --muted: #92a3ff;
        --cardTop: rgba(0, 255, 255, 0.06);
        --cardBot: rgba(255, 255, 255, 0.02);
        --barA: #00eaff;
        --barB: #8a2be2;
        --btnA: #0b1330;
        --btnB: #080d22;
        --patA: #0d1233;
        --patB: #070812;
        --accent: #7ceeff;
      }
      [data-theme="sunrise"] {
        --bg: #0c0a08;
        --ring: rgba(255, 163, 26, 0.45);
        --muted: #ffddae;
        --cardTop: rgba(255, 180, 60, 0.06);
        --cardBot: rgba(255, 255, 255, 0.02);
        --barA: #ff8a00;
        --barB: #ffd166;
        --btnA: #20130a;
        --btnB: #160e08;
        --patA: #1b140f;
        --patB: #0c0a08;
        --accent: #ffc27a;
      }
      [data-theme="terminal"] {
        --bg: #040806;
        --ring: rgba(0, 255, 128, 0.35);
        --muted: #8fd3b1;
        --cardTop: rgba(0, 255, 128, 0.06);
        --cardBot: rgba(255, 255, 255, 0.02);
        --barA: #00ffa2;
        --barB: #00d47a;
        --btnA: #06130b;
        --btnB: #031009;
        --patA: #0b1a14;
        --patB: #040806;
        --accent: #a3ffcf;
      }

      /* ===================== BASE ===================== */
      html,
      body {
        height: 100%;
      }
      body {
        background: radial-gradient(
            1200px 700px at 10% -10%,
            var(--patA) 0%,
            var(--bg) 60%
          ),
          var(--bg);
        background-image: radial-gradient(
            circle at 20% 10%,
            rgba(255, 255, 255, 0.04),
            transparent 35%
          ),
          repeating-linear-gradient(
            90deg,
            rgba(255, 255, 255, 0.03) 0 1px,
            transparent 1px 80px
          ),
          repeating-linear-gradient(
            0deg,
            rgba(255, 255, 255, 0.02) 0 1px,
            transparent 1px 80px
          );
        color: #eaf0ff;
        font-family: Inter, system-ui;
      }
      .card {
        background: linear-gradient(180deg, var(--cardTop), var(--cardBot));
        border: 1px solid var(--stroke);
        backdrop-filter: blur(8px);
      }
      .btn {
        background: linear-gradient(180deg, var(--btnA), var(--btnB));
        border: 1px solid var(--stroke);
      }
      .btn:hover {
        border-color: rgba(255, 255, 255, 0.18);
        transform: translateY(-1px);
      }
      .ring:focus {
        outline: none;
        box-shadow: 0 0 0 4px var(--ring);
      }
      .muted {
        color: var(--muted);
      }
      .bar {
        height: 10px;
        border-radius: 999px;
        background: #131a2a;
        overflow: hidden;
        border: 1px solid var(--stroke);
      }
      .bar > span {
        display: block;
        height: 100%;
        background: linear-gradient(90deg, var(--barA), var(--barB));
      }
      .opt {
        border: 1px solid var(--stroke);
        background: rgba(255, 255, 255, 0.02);
        transition: transform 0.15s ease, border-color 0.15s ease;
      }
      .opt:hover {
        transform: translateY(-2px);
        border-color: rgba(255, 255, 255, 0.2);
      }
      .opt.correct {
        border-color: #3bd283;
        background: rgba(59, 210, 131, 0.12);
      }
      .opt.wrong {
        border-color: #ff6b6b;
        background: rgba(255, 107, 107, 0.12);
      }
      .pill {
        border: 1px solid var(--stroke);
        background: rgba(255, 255, 255, 0.03);
      }
      .avatar {
        width: 32px;
        height: 32px;
        border-radius: 50%;
        overflow: hidden;
        border: 1px solid var(--stroke);
      }
      .avatar img {
        width: 140%;
        height: 140%;
        object-fit: cover;
        object-position: 50% 35%;
      }
      .linkish {
        color: var(--accent);
      }
    </style>
  </head>
  <body class="min-h-screen" data-theme="cyber">
    <header
      class="max-w-4xl mx-auto px-5 pt-6 pb-2 flex items-center justify-between"
    >
      <!-- Logo already goes back to Hub -->
      <a href="../index.html" class="flex items-center gap-3">
        <div class="avatar"><img src="dobby.png" alt="Dobby" /></div>
        <span class="font-extrabold tracking-tight">SentientAGI</span>
      </a>
      <div class="flex items-center gap-4 text-xs">
        <a href="../index.html" class="linkish">← Back to Hub</a>
        <div class="muted"><span id="best">Best: 0%</span></div>
        <div class="flex items-center gap-2">
          <label for="theme" class="muted">Theme</label>
          <select id="theme" class="px-2 py-1 rounded pill">
            <option value="cyber">Cyber Neon</option>
            <option value="sunrise">Sunrise</option>
            <option value="terminal">Terminal Green</option>
          </select>
        </div>
      </div>
    </header>

    <main class="max-w-4xl mx-auto px-5 pb-16">
      <section class="card rounded-3xl p-6 md:p-8">
        <div class="flex items-start justify-between gap-6 flex-wrap">
          <div>
            <h1 class="text-3xl md:text-5xl font-extrabold leading-tight">
              AI Ascension Quiz
            </h1>
            <p class="muted mt-2">
              Browser quiz mini-game. 10 questions · 20s/question · instant
              feedback.
            </p>
            <div class="mt-5 flex gap-3 flex-wrap">
              <button id="start" class="btn ring px-4 py-2 rounded-lg text-sm">
                Start Quiz
              </button>
              <button id="how" class="px-4 py-2 rounded-lg text-sm pill">
                How it works
              </button>
              <!-- Back button ready -->
              <a href="../index.html" class="px-4 py-2 rounded-lg text-sm pill"
                >← Back to Hub</a
              >
            </div>
          </div>
          <div class="text-right">
            <div class="text-xs muted">Level mapping</div>
            <div class="mt-1 text-sm">
              <span class="pill px-2 py-1 rounded-full">L1–L3</span>
              <span class="pill px-2 py-1 rounded-full">Early AGI</span>
              <span class="pill px-2 py-1 rounded-full">Advanced AGI</span>
              <span class="pill px-2 py-1 rounded-full">Sentient AGI</span>
            </div>
          </div>
        </div>

        <!-- Quiz Panel -->
        <div id="panel" class="mt-6 hidden">
          <div class="flex items-center justify-between gap-4">
            <div class="text-sm">
              <b id="qnum">1</b>/<span id="total">10</span>
            </div>
            <div class="flex items-center gap-3">
              <div class="text-sm">Time: <b id="time">20s</b></div>
              <div class="text-sm">Score: <b id="score">0</b></div>
            </div>
          </div>
          <div class="mt-2 bar">
            <span id="timebar" style="width: 100%"></span>
          </div>

          <h2 id="question" class="mt-4 text-xl font-semibold">
            Question text…
          </h2>
          <div id="options" class="mt-4 grid gap-3"></div>

          <div class="mt-4 flex justify-between items-center">
            <button id="skip" class="px-3 py-2 rounded-lg text-xs pill">
              Skip
            </button>
            <div class="text-xs muted">Keyboard: 1-4 to answer, S to skip</div>
          </div>
        </div>

        <!-- Result Panel -->
        <div id="result" class="mt-6 hidden">
          <div class="flex items-center justify-between flex-wrap gap-3">
            <div>
              <div class="text-2xl font-extrabold" id="headline">
                You did it!
              </div>
              <div class="muted text-sm mt-1" id="summary"></div>
              <div class="muted text-xs mt-1">
                Tip: share your score and challenge a friend.
              </div>
            </div>
            <div class="text-right">
              <div class="text-sm">Score</div>
              <div class="text-3xl font-extrabold" id="scorePct">0%</div>
            </div>
          </div>
          <div class="mt-3 bar">
            <span id="resbar" style="width: 0%"></span>
          </div>
          <div class="mt-4 flex gap-2 flex-wrap">
            <button id="retry" class="btn ring px-4 py-2 rounded-lg text-sm">
              Retry
            </button>
            <a
              id="share"
              target="_blank"
              rel="noreferrer"
              class="px-4 py-2 rounded-lg text-sm pill"
              >Share on X</a
            >
            <button id="reviewBtn" class="px-4 py-2 rounded-lg text-sm pill">
              Review Answers
            </button>
            <!-- Back button on result -->
            <a href="../index.html" class="px-4 py-2 rounded-lg text-sm pill"
              >← Back to Hub</a
            >
          </div>
          <div id="review" class="mt-4 hidden">
            <div id="reviewList" class="space-y-3"></div>
          </div>
        </div>
      </section>

      <p class="text-center text-xs muted mt-4">
        Theme persists in your browser. Art/brand by SentientAGI.
      </p>
    </main>

    <script>
      /* ================== QUESTIONS ================== */
      const QUESTIONS = [
        {
          q: "What key innovation powers the Transformer architecture?",
          a: 1,
          opts: ["Convolutions", "Self-attention", "K-means", "Decision trees"],
        },
        {
          q: "What does softmax output?",
          a: 1,
          opts: [
            "Logits",
            "A probability distribution",
            "One-hot labels",
            "Distances",
          ],
        },
        {
          q: "Which training method updates weights using gradients on mini-batches?",
          a: 0,
          opts: [
            "Stochastic Gradient Descent",
            "Simulated Annealing",
            "Genetic Algorithms",
            "k-NN",
          ],
        },
        {
          q: "Which technique helps reduce overfitting?",
          a: 3,
          opts: [
            "BatchNorm",
            "Residuals",
            "More layers",
            "Dropout / regularization",
          ],
        },
        {
          q: "In tokenization, text is converted into…",
          a: 1,
          opts: [
            "Characters",
            "Integer IDs (tokens)",
            "Embeddings",
            "Stopwords",
          ],
        },
        {
          q: "For multi-class classification the common loss is…",
          a: 0,
          opts: ["Cross-entropy", "MSE", "Huber", "CTC"],
        },
        {
          q: "In RL, the function that selects actions is the…",
          a: 2,
          opts: ["Value function", "Reward model", "Policy", "World model"],
        },
        {
          q: "The gradient is…",
          a: 3,
          opts: [
            "A learning rate",
            "A loss curve",
            "A Jacobian inverse",
            "A vector of partial derivatives",
          ],
        },
        {
          q: "Zero-shot prompting means…",
          a: 0,
          opts: [
            "No examples are provided",
            "Exactly one example is provided",
            "Many labeled samples are used",
            "The model is fine-tuned first",
          ],
        },
        {
          q: "AGI stands for…",
          a: 1,
          opts: [
            "Artificial Guided Inference",
            "Artificial General Intelligence",
            "Adaptive Gradient Inversion",
            "Agentic Governance Interface",
          ],
        },
      ];

      /* ================== UI HOOKS ================== */
      const el = {
        start: q("#start"),
        how: q("#how"),
        panel: q("#panel"),
        result: q("#result"),
        qnum: q("#qnum"),
        total: q("#total"),
        time: q("#time"),
        timebar: q("#timebar"),
        question: q("#question"),
        options: q("#options"),
        skip: q("#skip"),
        score: q("#score"),
        retry: q("#retry"),
        share: q("#share"),
        headline: q("#headline"),
        summary: q("#summary"),
        scorePct: q("#scorePct"),
        resbar: q("#resbar"),
        reviewBtn: q("#reviewBtn"),
        review: q("#review"),
        reviewList: q("#reviewList"),
        best: q("#best"),
        theme: q("#theme"),
      };
      el.total.textContent = QUESTIONS.length;

      /* ================== THEME ================== */
      const savedTheme = localStorage.getItem("aiq:theme") || "cyber";
      document.documentElement.setAttribute("data-theme", savedTheme);
      el.theme.value = savedTheme;
      el.theme.addEventListener("change", () => {
        const v = el.theme.value;
        document.documentElement.setAttribute("data-theme", v);
        localStorage.setItem("aiq:theme", v);
      });

      /* ================== QUIZ STATE ================== */
      let idx = 0,
        score = 0,
        timer = null,
        remain = 20,
        answers = [];
      el.best.textContent =
        "Best: " + (localStorage.getItem("aiq:best") || "0") + "%";

      el.start.addEventListener("click", startQuiz);
      el.how.addEventListener("click", () =>
        alert(
          "Answer 10 questions. You have 20 seconds per question. Use keys 1–4 or click. Press S to skip. Level is assigned by your final score."
        )
      );
      el.skip.addEventListener("click", () => next(null));
      document.addEventListener("keydown", (e) => {
        if (el.panel.classList.contains("hidden")) return;
        if (["1", "2", "3", "4"].includes(e.key)) pick(+e.key - 1);
        if (e.key.toLowerCase() === "s") next(null);
      });
      el.retry.addEventListener("click", startQuiz);
      el.reviewBtn.addEventListener("click", () =>
        el.review.classList.toggle("hidden")
      );

      function startQuiz() {
        idx = 0;
        score = 0;
        answers = [];
        remain = 20;
        el.score.textContent = "0";
        el.panel.classList.remove("hidden");
        el.result.classList.add("hidden");
        renderQ();
      }
      function renderQ() {
        clearTimer();
        const item = QUESTIONS[idx];
        el.qnum.textContent = idx + 1;
        el.question.textContent = item.q;
        el.options.innerHTML = item.opts
          .map(
            (t, i) =>
              `<button class="opt rounded-xl p-3 text-left" data-i="${i}"><span class="font-semibold">${
                i + 1
              }.</span> ${esc(t)}</button>`
          )
          .join("");
        el.options
          .querySelectorAll(".opt")
          .forEach((btn) =>
            btn.addEventListener("click", () => pick(+btn.dataset.i))
          );
        remain = 20;
        tick();
        timer = setInterval(tick, 1000);
      }
      function pick(i) {
        const item = QUESTIONS[idx];
        const btns = [...el.options.querySelectorAll(".opt")];
        btns.forEach((b) => (b.disabled = true));
        if (i === item.a) {
          score++;
          el.score.textContent = score;
          btns[i].classList.add("correct");
        } else {
          if (i != null) btns[i]?.classList.add("wrong");
          btns[item.a]?.classList.add("correct");
        }
        answers.push({ q: item.q, opts: item.opts, correct: item.a, pick: i });
        setTimeout(() => next(i), 900);
      }
      function next() {
        clearTimer();
        if (idx < QUESTIONS.length - 1) {
          idx++;
          renderQ();
        } else finish();
      }
      function tick() {
        el.time.textContent = `${remain}s`;
        el.timebar.style.width = Math.max(0, (remain / 20) * 100) + "%";
        remain--;
        if (remain < 0) {
          next(null);
        }
      }
      function clearTimer() {
        if (timer) {
          clearInterval(timer);
          timer = null;
        }
      }

      function finish() {
        el.panel.classList.add("hidden");
        const pct = Math.round((score / QUESTIONS.length) * 100);
        const level = mapLevel(pct);
        el.headline.textContent = `Level: ${level}`;
        el.summary.textContent = `You answered ${score}/${QUESTIONS.length} correctly.`;
        el.scorePct.textContent = `${pct}%`;
        el.resbar.style.width = pct + "%";
        el.result.classList.remove("hidden");

        const best = Math.max(pct, +localStorage.getItem("aiq:best") || 0);
        localStorage.setItem("aiq:best", best);
        el.best.textContent = "Best: " + best + "%";

        const text = encodeURIComponent(
          `I scored ${pct}% (${score}/${QUESTIONS.length}) in AI Ascension Quiz — Level: ${level} #SentientAGI #Dobby`
        );
        el.share.href = `https://twitter.com/intent/tweet?text=${text}`;
        renderReview();
      }
      function renderReview() {
        el.reviewList.innerHTML = answers
          .map((a, ix) => {
            const ok = a.pick === a.correct;
            const badge = ok
              ? `<span class="ml-2 text-xs px-2 py-0.5 rounded-full" style="background:rgba(59,210,131,.16);border:1px solid #3bd283">Correct</span>`
              : `<span class="ml-2 text-xs px-2 py-0.5 rounded-full" style="background:rgba(255,107,107,.16);border:1px solid #ff6b6b">Wrong</span>`;
            return `<div class="p-3 rounded-xl bg-black/20 border border-white/10">
      <div class="font-semibold">${ix + 1}. ${esc(a.q)} ${badge}</div>
      <ul class="mt-2 text-sm list-disc pl-5">
        ${a.opts
          .map(
            (t, i) =>
              `<li ${i === a.correct ? 'style="color:#a6ffcf"' : ""}>${esc(
                t
              )} ${
                i === a.pick && i !== a.correct
                  ? '<em class="muted">(your pick)</em>'
                  : ""
              }</li>`
          )
          .join("")}
      </ul>
    </div>`;
          })
          .join("");
      }

      /* ================== HELPERS ================== */
      function mapLevel(p) {
        if (p >= 95) return "Sentient AGI";
        if (p >= 85) return "Advanced AGI";
        if (p >= 75) return "Early AGI";
        if (p >= 60) return "L3";
        if (p >= 40) return "L2";
        return "L1";
      }
      function q(s) {
        return document.querySelector(s);
      }
      function esc(str) {
        return String(str).replace(
          /[&<>"']/g,
          (m) =>
            ({
              "&": "&amp;",
              "<": "&lt;",
              ">": "&gt;",
              '"': "&quot;",
              "'": "&#39;",
            }[m])
        );
      }
    </script>
  </body>
</html>
